{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 7819c207f04c115b48dc","webpack:///./src/main.js","webpack:///external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack:///external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","webpack:///external {\"commonjs\":\"nestedtypes\",\"commonjs2\":\"nestedtypes\",\"amd\":\"nestedtypes\",\"root\":\"Nested\"}","webpack:///./src/createClass.js","webpack:///./src/purerender-mixin.js","webpack:///./src/propTypes.js","webpack:///./src/component-view.js","webpack:///./src/view-element.js","webpack:///./src/json-comparison.js","webpack:///./src/nested-link.js","webpack:///./~/valuelink/index.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yCAAwC,sBAAsB,EAAE;AAChE;;AAEA;AACA,YAAW,kBAAkB,qCAAqC,EAAE,EAAE;AACtE,YAAW,kBAAkB,qBAAqB,EAAE,EAAE;AACtD,YAAW,yBAAyB,6BAA6B,EAAE;AACnE,EAAC;;AAED;;;;;;;ACrCA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA;AACA;AACA;AACA;;AAEA,wBAAuB,oBAAoB;;AAE3C;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAqC;AACrC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,sCAAqC;AACrC;;AAEA,oBAAmB,qBAAqB;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,4CAA2C,wBAAwB;AACnE;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,gFAA+E,yBAAyB;AACxG;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;;AAEA,yCAAwC,QAAQ;AAChD;AACA;;AAEA;AACA,4CAA2C;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACnLA;AACA,8BAA6B;AAC7B,8BAA6B;;AAE7B;AACA;;AAEA;AACA;AACA;;AAEA,6DAA4D;AAC5D;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,G;;;;;;AC9BA;;AAEA;AACA,uBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA,wCAAuC;AACvC;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iC;;;;;;AC3DA;AACA;;AAEA;AACA,4DAA2D;AAC3D;;AAEA;AACA;AACA,wBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;;;;;;AC9EA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,E;;;;;;AC7DD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,oBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;;;;;;;ACvDA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA,MAAK;;AAEL,4CAA2C,iBAAiB;AAC5D;AACA;AACA,G;;;;;;ACpEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA,yBAAwB;;AAExB;;AAEA;AACA;AACA;AACA;;AAEA,qCAAoC,yBAAyB,EAAE;AAC/D,kCAAiC,mCAAmC,EAAE;;AAEtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,iDAAgD;AAChD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,oBAAmB,gBAAgB;AACnC;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAmB,gBAAgB;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,oBAAmB,gBAAgB;AACnC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,8DAA6D;;AAE7D;AACA,E","file":"./nestedreact.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"), require(\"nestedtypes\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\", \"nestedtypes\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"React\"] = factory(require(\"react\"), require(\"react-dom\"), require(\"nestedtypes\"));\n\telse\n\t\troot[\"React\"] = factory(root[\"React\"], root[\"ReactDOM\"], root[\"Nested\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7819c207f04c115b48dc\n **/","var React    = require( 'react' ),\r\n    ReactDOM = require( 'react-dom' ),\r\n    Nested   = require( 'nestedtypes' ),\r\n    $        = Nested.$;\r\n\r\n// extend React namespace\r\nvar NestedReact = module.exports = Object.create( React );\r\n\r\n// listenToProps, listenToState, model, attributes, Model\r\nNestedReact.createClass = require( './createClass' );\r\n\r\nvar ComponentView = require( './component-view' );\r\n\r\n// export hook to override base View class used...\r\nNestedReact.useView = function( View ){\r\n    NestedReact._BaseView = ComponentView.use( View );\r\n};\r\n\r\nNestedReact.useView( Nested.View );\r\n\r\n// React component for attaching views\r\nNestedReact.subview = require( './view-element' );\r\n\r\nvar propTypes  = require( './propTypes' );\r\nNestedReact.Node = propTypes.Node.value( null );\r\nNestedReact.Element = propTypes.Element.value( null );\r\n\r\n// Extend react components to have backbone-style jquery accessors\r\nvar Component     = React.createClass( { render : function(){} } ),\r\n    BaseComponent = Object.getPrototypeOf( Component.prototype );\r\n\r\nObject.defineProperties( BaseComponent, {\r\n    el  : { get : function(){ return ReactDOM.findDOMNode( this ); } },\r\n    $el : { get : function(){ return $( this.el ); } },\r\n    $   : { value : function( sel ){ return this.$el.find( sel ); } }\r\n} );\r\n\r\nrequire( './nested-link' );\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"nestedtypes\",\"commonjs2\":\"nestedtypes\",\"amd\":\"nestedtypes\",\"root\":\"Nested\"}\n ** module id = 3\n ** module chunks = 0\n **/","var React      = require( 'react' ),\r\n    Nested     = require( 'nestedtypes' ),\r\n    pureRender = require( './purerender-mixin' ),\r\n    propTypes  = require( './propTypes' );\r\n\r\nfunction forceUpdate(){ this.forceUpdate(); }\r\n\r\nvar Events = Object.assign( {\r\n    componentWillUnmount : function(){\r\n        this.stopListening();\r\n    }\r\n}, Nested.Events );\r\n\r\nfunction registerPropsListener( component, prevProps, name, events ){\r\n    var prevEmitter = prevProps[ name ],\r\n        emitter     = component.props[ name ];\r\n\r\n    if( prevEmitter !== emitter ){\r\n        prevEmitter && component.stopListening( prevEmitter );\r\n\r\n        if( emitter ){\r\n            if( typeof events === 'object' ){\r\n                component.listenTo( emitter, events );\r\n            }\r\n            else{\r\n                component.listenTo( emitter, events || emitter.triggerWhenChanged, forceUpdate );\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction regHashPropsListeners( a_prevProps ){\r\n    var prevProps = a_prevProps || {},\r\n        updateOn  = this.listenToProps;\r\n\r\n    for( var prop in updateOn ){\r\n        registerPropsListener( this, prevProps, prop, updateOn[ prop ] );\r\n    }\r\n}\r\n\r\nvar ListenToProps = {\r\n    componentDidMount  : regHashPropsListeners,\r\n    componentDidUpdate : regHashPropsListeners\r\n};\r\n\r\nfunction regArrayPropListeners( a_prevProps ){\r\n    var prevProps = a_prevProps || {},\r\n        updateOn  = this.listenToProps;\r\n\r\n    for( var i = 0; i < updateOn.length; i++ ){\r\n        registerPropsListener( this, prevProps, updateOn[ i ] )\r\n    }\r\n}\r\n\r\nvar ListenToPropsArray = {\r\n    componentDidMount  : regArrayPropListeners,\r\n    componentDidUpdate : regArrayPropListeners\r\n};\r\n\r\nfunction _mountState(){\r\n    var events = this.listenToState;\r\n    events && this.listenTo( this.model, events, forceUpdate );\r\n}\r\n\r\nvar ModelState = {\r\n    listenToState : 'change',\r\n    model         : null,\r\n\r\n    getInitialState : function(){\r\n        this.model = new this.Model();\r\n        // enable owner references in the model to access component props\r\n        this.model._owner = this;\r\n\r\n        return this.model;\r\n    },\r\n\r\n    // reference global store to fix model's store locator\r\n    getStore : function(){\r\n        this.model._defaultStore;\r\n    },\r\n\r\n    _mountState : _mountState,\r\n\r\n    componentDidMount : _mountState,\r\n\r\n    componentWillUnmount : function(){\r\n        this.model._owner = null;\r\n        this.model.stopListening();\r\n    }\r\n};\r\n\r\nfunction createClass( spec ){\r\n    var mixins = spec.mixins || ( spec.mixins = [] );\r\n\r\n    // process state spec...\r\n    var attributes = getTypeSpecs( spec, 'attributes', 'state' );\r\n    if( attributes ){\r\n        var BaseModel = spec.Model || Nested.Model;\r\n        spec.Model    = BaseModel.extend( { defaults : attributes } );\r\n    }\r\n\r\n    if( spec.Model ) mixins.push( ModelState );\r\n\r\n    // process props spec...\r\n    var props = getTypeSpecs( spec, 'props' );\r\n\r\n    if( props ){\r\n        var parsedProps = propTypes.parseProps( props ),\r\n            propsModel = parsedProps.model;\r\n\r\n        spec.propTypes = parsedProps.propTypes;\r\n\r\n        if( propsModel ){\r\n            spec.getDefaultProps = function(){\r\n                return propsModel.defaults();\r\n            }\r\n        }\r\n    }\r\n\r\n    // process listenToProps spec\r\n    var listenToProps = spec.listenToProps;\r\n    if( listenToProps ){\r\n        if( typeof listenToProps === 'string' ){\r\n            spec.listenToProps = listenToProps.split( ' ' );\r\n            mixins.unshift( ListenToPropsArray );\r\n        }\r\n        else{\r\n            mixins.unshift( ListenToProps );\r\n        }\r\n    }\r\n\r\n    // add Events capabilities\r\n    mixins.push( Events );\r\n\r\n    // compile pure render mixin\r\n    if( spec.propTypes && spec.pureRender ){\r\n        mixins.push( pureRender( spec.propTypes ) );\r\n    }\r\n\r\n    var component = React.createClass( spec );\r\n\r\n    // attach lazily evaluated backbone View class\r\n    var NestedReact = this;\r\n\r\n    Object.defineProperty( component, 'View', {\r\n        get : function(){\r\n            return this._View || ( this._View = NestedReact._BaseView.extend( { reactClass : component } ) );\r\n        }\r\n    } );\r\n\r\n    return component;\r\n}\r\n\r\nfunction getTypeSpecs( spec, name1, name2 ){\r\n    var attributes = null;\r\n\r\n    for( var i = spec.mixins.length - 1; i >= 0; i-- ){\r\n        var mixin      = spec.mixins[ i ],\r\n            mixinAttrs = mixin[ name1 ] || ( name2 && mixin[ name2 ] );\r\n\r\n        if( mixinAttrs ){\r\n            attributes || ( attributes = {} );\r\n            Object.assign( attributes, mixin.mixinAttrs );\r\n        }\r\n    }\r\n\r\n    var specAttrs = spec[ name1 ] || ( name2 && spec[ name2 ] );\r\n    if( specAttrs ){\r\n        if( attributes ){\r\n            Object.assign( attributes, specAttrs );\r\n        }\r\n        else{\r\n            attributes = specAttrs;\r\n        }\r\n    }\r\n\r\n    return attributes;\r\n}\r\n\r\nmodule.exports = createClass;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/createClass.js\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = function( propTypes ){\n    var ctor      = [ 'var v;this._s=s&&s._changeToken' ],\n        isChanged = [ 'var v;return(s&&s._changeToken!==t._s)' ];\n\n    for( var name in propTypes ){\n        var propExpr = '((v=p.' + name + ')&&v._changeToken)||v';\n\n        ctor.push( 'this.' + name + '=' + propExpr );\n        isChanged.push( 't.' + name + '!==(' + propExpr + ')' );\n    }\n\n    var ChangeTokens = new Function( 'p', 's', ctor.join( ';' ) ),\n        isChanged    = new Function( 't', 'p', 's', isChanged.join( '||' ) );\n\n    ChangeTokens.prototype = null;\n\n    return {\n        _changeTokens : null,\n\n        shouldComponentUpdate : function( nextProps ){\n            return isChanged( this._changeTokens, nextProps, this.state );\n        },\n\n        componentDidMount  : function(){\n            this._changeTokens = new ChangeTokens( this.props, this.state );\n        },\n        componentDidUpdate : function(){\n            this._changeTokens = new ChangeTokens( this.props, this.state );\n        }\n    }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/purerender-mixin.js\n ** module id = 5\n ** module chunks = 0\n **/","var Nested = require( 'nestedtypes' );\r\n\r\nfunction parseProps( props ){\r\n    var propTypes = {},\r\n        defaults, defaultsProto,\r\n        modelProto = Nested.Model.defaults( props ).prototype;\r\n\r\n    modelProto.forEachAttr( modelProto.__attributes, function( spec, name ){\r\n        propTypes[ name ] = translateType( spec.type );\r\n        if( spec.value !== void 0 ){\r\n            defaults || ( defaults = {} );\r\n            defaults[ name ] = props[ name ];\r\n        }\r\n    });\r\n\r\n    if( defaults ){\r\n        defaultsProto = Nested.Model.defaults( defaults ).prototype;\r\n    }\r\n\r\n    return {\r\n        propTypes : propTypes,\r\n        model : defaultsProto\r\n    };\r\n}\r\n\r\nvar PropTypes = React.PropTypes;\r\n\r\nfunction Node(){}\r\nfunction Element(){}\r\n\r\nfunction translateType( Type ){\r\n    switch( Type ){\r\n        case Number :\r\n        case Integer :\r\n            return PropTypes.number;\r\n        case String :\r\n            return PropTypes.string;\r\n        case Boolean :\r\n            return PropTypes.bool;\r\n        case Array :\r\n            return PropTypes.array;\r\n        case Function :\r\n            return PropTypes.func;\r\n        case Object :\r\n            return PropTypes.object;\r\n        case Node :\r\n            return PropTypes.node;\r\n        case Element :\r\n            return PropTypes.element;\r\n        case void 0 :\r\n        case null :\r\n            return PropTypes.any;\r\n        default:\r\n            return PropTypes.instanceOf( Type );\r\n    }\r\n}\r\n\r\nexports.Node = Node;\r\nexports.Element = Element;\r\nexports.parseProps = parseProps;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/propTypes.js\n ** module id = 6\n ** module chunks = 0\n **/","var React    = require( 'react' ),\r\n    ReactDOM = require( 'react-dom' );\r\n\r\nmodule.exports.use = function( View ){\r\n    var dispose    = View.prototype.dispose || function(){},\r\n        setElement = View.prototype.setElement;\r\n\r\n    var ComponentView = View.extend( {\r\n        reactClass : null,\r\n        props      : {},\r\n        element    : null,\r\n\r\n        initialize : function( props ){\r\n            // memorise arguments to pass to React\r\n            this.options = props || {};\r\n            this.element = React.createElement( this.reactClass, this.options );\r\n        },\r\n\r\n        setElement : function(){\r\n            this.unmountComponent();\r\n            return setElement.apply( this, arguments );\r\n        },\r\n\r\n        // cached instance of react component...\r\n        component : null,\r\n        prevState : null,\r\n\r\n        render : function(){\r\n            var component = ReactDOM.render( this.element, this.el );\r\n            this.component || this.mountComponent( component );\r\n        },\r\n\r\n        mountComponent : function( component ){\r\n            this.component = component;\r\n\r\n            if( this.prevState ){\r\n                component.model = this.prevState;\r\n                component.model._owner = component;\r\n                component._mountState();\r\n                this.prevState = null;\r\n\r\n                component.forceUpdate();\r\n            }\r\n\r\n            component.trigger && this.listenTo( component, 'all', function(){\r\n                this.trigger.apply( this, arguments );\r\n            });\r\n        },\r\n\r\n        unmountComponent : function(){\r\n            var component = this.component;\r\n\r\n            if( component ){\r\n                this.prevState = component.model;\r\n\r\n                if( component.trigger ){\r\n                    this.stopListening( component );\r\n                }\r\n\r\n                ReactDOM.unmountComponentAtNode( this.el );\r\n                this.component = null;\r\n            }\r\n        },\r\n\r\n        dispose : function(){\r\n            this.unmountComponent();\r\n            return dispose.apply( this, arguments );\r\n        }\r\n    } );\r\n\r\n    Object.defineProperty( ComponentView.prototype, 'model', {\r\n        get : function(){\r\n            this.component || this.render();\r\n            return this.component && this.component.model;\r\n        }\r\n    } );\r\n\r\n    return ComponentView;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/component-view.js\n ** module id = 7\n ** module chunks = 0\n **/","var React = require( 'react' ),\r\n    jsonNotEqual = require( './json-comparison' ).jsonNotEqual;\r\n\r\nmodule.exports = React.createClass({\r\n    displayName : 'BackboneView',\r\n\r\n    propTypes : {\r\n        View : React.PropTypes.func.isRequired,\r\n        options : React.PropTypes.object\r\n    },\r\n\r\n    shouldComponentUpdate : function( next ){\r\n        var props = this.props;\r\n        return next.View !== props.View || jsonNotEqual( next.options, props.options );\r\n    },\r\n\r\n    hasUnsavedChanges : function(){\r\n        var view = this.view;\r\n\r\n        return view && (\r\n               typeof view.hasUnsavedChanges === 'function' ? view.hasUnsavedChanges() : view.hasUnsavedChanges\r\n            );\r\n    },\r\n\r\n    render : function(){\r\n        return React.DOM.div({\r\n            ref : 'subview',\r\n            className : this.props.className\r\n        });\r\n    },\r\n\r\n    componentDidMount : function(){\r\n        this._mountView();\r\n    },\r\n    componentDidUpdate : function(){\r\n        this._dispose();\r\n        this._mountView();\r\n    },\r\n    componentWillUnmount : function(){\r\n        this._dispose();\r\n    },\r\n\r\n    _mountView: function () {\r\n        var el = this.refs.subview,\r\n            p = this.props;\r\n\r\n        var view = this.view = p.options ? new p.View( p.options ) : new p.View();\r\n\r\n        el.appendChild( view.el );\r\n        view.render();\r\n    },\r\n\r\n    _dispose : function(){\r\n        var view = this.view;\r\n        if( view ){\r\n            view.stopListening();\r\n            if( view.dispose ) view.dispose();\r\n            this.refs.subview.innerHTML = \"\";\r\n            this.view = null;\r\n        }\r\n    }\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/view-element.js\n ** module id = 8\n ** module chunks = 0\n **/","// equality checking for deep JSON comparison of plain Array and Object\r\nvar ArrayProto = Array.prototype,\r\n    ObjectProto = Object.prototype;\r\n\r\nexports.jsonNotEqual = jsonNotEqual;\r\nfunction jsonNotEqual( objA, objB) {\r\n    if (objA === objB) {\r\n        return false;\r\n    }\r\n\r\n    if (typeof objA !== 'object' || !objA ||\r\n        typeof objB !== 'object' || !objB ) {\r\n        return true;\r\n    }\r\n\r\n    var protoA = Object.getPrototypeOf( objA ),\r\n        protoB = Object.getPrototypeOf( objB );\r\n\r\n    if( protoA !== protoB ) return true;\r\n\r\n    if( protoA === ArrayProto ) return arraysNotEqual( objA, objB );\r\n    if( protoA === ObjectProto ) return objectsNotEqual( objA, objB );\r\n\r\n    return true;\r\n}\r\n\r\nfunction objectsNotEqual( objA, objB ){\r\n    var keysA = Object.keys(objA);\r\n    var keysB = Object.keys(objB);\r\n\r\n    if (keysA.length !== keysB.length) {\r\n        return true;\r\n    }\r\n\r\n    // Test for A's keys different from B.\r\n    var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\r\n\r\n    for (var i = 0; i < keysA.length; i++) {\r\n        var key = keysA[i];\r\n        if ( !bHasOwnProperty( key ) || jsonNotEqual( objA[ key ], objB[ key ] )) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction arraysNotEqual( a, b ){\r\n    if( a.length !== b.length ) return true;\r\n\r\n    for( var i = 0; i < a.length; i++ ){\r\n        if( jsonNotEqual( a[ i ], b[ i ] ) ) return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/json-comparison.js\n ** module id = 9\n ** module chunks = 0\n **/","var Nested   = require( 'nestedtypes' ),\r\n    Link     = require( 'valuelink' );\r\n\r\nObject.extend.attach( Link );\r\n\r\nNested.Link = Link;\r\n\r\nvar ClassProto      = Nested.Class.prototype,\r\n    ModelProto      = Nested.Model.prototype,\r\n    CollectionProto = Nested.Collection.prototype;\r\n\r\nClassProto.getLink = ModelProto.getLink = CollectionProto.getLink = function( attr ){\r\n    var model = this,\r\n        error = model.validationError;\r\n\r\n    return new Link( model[ attr ], function( x ){\r\n        model[ attr ] = x;\r\n    }, error && error.nested[ attr ] );\r\n};\r\n\r\nModelProto.deepLink = function( attr, options ){\r\n    var model = this,\r\n        values = model.deepInvalidate( attr );\r\n\r\n    return new Link( values[ 0 ], function( x ){\r\n        model.deepSet( attr, x, options );\r\n    }, values[ 1 ] );\r\n};\r\n\r\nCollectionProto.hasLink = function( model ){\r\n    var collection = this;\r\n\r\n    return new Link( Boolean( collection.get( model ) ), function( x ){\r\n        var next = Boolean( x );\r\n        this.value === next || collection.toggle( model, next );\r\n    } );\r\n};\r\n\r\nNested.link = function( reference ){\r\n    var getMaster = Nested.parseReference( reference );\r\n\r\n    function setLink( value ){\r\n        var link = getMaster.call( this );\r\n        link && link.requestChange( value );\r\n    }\r\n\r\n    function getLink(){\r\n        var link = getMaster.call( this );\r\n        return link && link.value;\r\n    }\r\n\r\n    var LinkAttribute = Nested.attribute.Type.extend( {\r\n        createPropertySpec : function(){\r\n            return {\r\n                // call to optimized set function for single argument. Doesn't work for backbone types.\r\n                set : setLink,\r\n\r\n                // attach get hook to the getter function, if present\r\n                get : getLink\r\n            }\r\n        },\r\n\r\n        set : setLink\r\n    } );\r\n\r\n    var options       = Nested.attribute( { toJSON : false } );\r\n    options.Attribute = LinkAttribute;\r\n    return options;\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/nested-link.js\n ** module id = 10\n ** module chunks = 0\n **/","/**\r\n * Advanced React value links with validation and link-to-objects capabilities\r\n * (c) 2016 Vlad Balin & Volicon, MIT License\r\n */\r\n\r\nfunction Link( value, set, error ){\r\n    this.value           = value;\r\n    this.requestChange   = set || doNothing;\r\n    this.validationError = error;\r\n}\r\n\r\n// create link to component's state attribute\r\nLink.state = function( component, attr ){\r\n    return new Link( component.state[ attr ], function( x ){\r\n        var nextState = {};\r\n        nextState[ attr ] = x;\r\n        component.setState( nextState );\r\n    });\r\n};\r\n\r\nmodule.exports = Link;\r\n\r\nfunction doNothing( x ){ }\r\n\r\nvar defaultError = 'Invalid value';\r\n\r\nLink.prototype = {\r\n    value           : null,\r\n    validationError : null,\r\n    requestChange   : doNothing,\r\n\r\n    set             : function( x ){ this.requestChange( x ); },\r\n    toggle          : function(){ this.requestChange( !this.value ); },\r\n\r\n    // create function which updates the link\r\n    update : function( transform ){\r\n        var link = this;\r\n        return function(){\r\n            var nextValue = transform( link.value );\r\n            nextValue === void 0 || link.requestChange( nextValue );\r\n        }\r\n    },\r\n\r\n    check : function( whenValid, error ){\r\n        if( !this.validationError && !whenValid( this.value ) ){\r\n            this.validationError = error || defaultError;\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    // create boolean link to enclosed array element\r\n    contains : function( element ){\r\n        var link = this;\r\n\r\n        return new Link( contains( this.value, element ), function( x ){\r\n            var next = Boolean( x );\r\n            if( this.value !== next ){\r\n                var arr = link.value;\r\n                link.requestChange( x ? arr.concat( element ) : without( arr, element ) );\r\n            }\r\n        } );\r\n    },\r\n\r\n    // create boolean link for value equality\r\n    equals : function( asTrue ){\r\n        var link = this;\r\n\r\n        return new Link( this.value === asTrue, function( x ){\r\n            link.requestChange( x ? asTrue : null );\r\n        } );\r\n    },\r\n\r\n    // link to enclosed object or array member\r\n    at : function( key ){\r\n        var link = this;\r\n\r\n        return new Link( this.value[ key ], function( x ){\r\n            if( this.value !== x ){\r\n                var objOrArr    = link.value;\r\n                objOrArr        = clone( objOrArr );\r\n                objOrArr[ key ] = x;\r\n                link.requestChange( objOrArr );\r\n            }\r\n        } );\r\n    },\r\n\r\n    // iterates through enclosed object or array, generating set of links\r\n    map : function( fun ){\r\n        var arr = this.value;\r\n        return arr ? ( arr instanceof Array ? mapArray( this, arr, fun ) : mapObject( this, arr, fun ) ) : [];\r\n    },\r\n\r\n    // dummies for compatibility with nestedtypes object model...\r\n    constructor : Link,\r\n    initialize : function( value, set, error ){},\r\n    get _changeToken(){\r\n        return this.value;\r\n    }\r\n};\r\n\r\nfunction mapObject( link, object, fun ){\r\n    var res = [];\r\n\r\n    for( var i in object ){\r\n        if( object.hasOwnProperty( i ) ){\r\n            var y = fun( link.at( i ), i );\r\n            y === void 0 || ( res.push( y ) );\r\n        }\r\n    }\r\n\r\n    return res;\r\n}\r\n\r\nfunction mapArray( link, arr, fun ){\r\n    var res = [];\r\n\r\n    for( var i = 0; i < arr.length; i++ ){\r\n        var y = fun( link.at( i ), i );\r\n        y === void 0 || ( res.push( y ) );\r\n    }\r\n\r\n    return res;\r\n}\r\n\r\nfunction contains( arr, el ){\r\n    for( var i = 0; i < arr.length; i++ ){\r\n        if( arr[ i ] === el ) return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction without( arr, el ){\r\n    var res = [];\r\n\r\n    for( var i = 0; i < arr.length; i++ ){\r\n        var current = arr[ i ];\r\n        current === el || res.push( current );\r\n    }\r\n\r\n    return res;\r\n}\r\n\r\nfunction clone( objOrArray ){\r\n    var proto = objOrArray && Object.getPrototypeOf( objOrArray );\r\n\r\n    if( proto === Array.prototype ) return objOrArray.slice();\r\n    if( proto === Object.prototype ) return Object.assign( {}, objOrArray );\r\n\r\n    return objOrArray;\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/valuelink/index.js\n ** module id = 11\n ** module chunks = 0\n **/"],"sourceRoot":""}