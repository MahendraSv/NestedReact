{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0c7a0d22aa9df44a73a8","webpack:///./src/main.js","webpack:///external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack:///external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","webpack:///external {\"commonjs\":\"nestedtypes\",\"commonjs2\":\"nestedtypes\",\"amd\":\"nestedtypes\",\"root\":\"Nested\"}","webpack:///./src/createClass.js","webpack:///./src/component-view.js","webpack:///./src/view-element.js","webpack:///./src/value-link.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,yCAAwC,sBAAsB,EAAE;AAChE;;AAEA;AACA,YAAW,kBAAkB,qCAAqC,EAAE,EAAE;AACtE,YAAW,kBAAkB,qBAAqB,EAAE,EAAE;AACtD,YAAW,yBAAyB,6BAA6B,EAAE;AACnE,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;;;;;;ACrEA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA;AACA;;AAEA,wBAAuB,oBAAoB;;AAE3C;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,4CAA2C,wBAAwB;AACnE;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,gFAA+E,yBAAyB;AACxG;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;;AAEA,yCAAwC,QAAQ;AAChD;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AC5HA;AACA;;AAEA;AACA,4DAA2D;AAC3D;;AAEA;AACA;AACA,wBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;;;;;;AC1EA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;AChFD;;AAEA;AACA,gFAA+E;AAC/E;;AAEA;AACA;AACA;AACA,MAAK;;AAEL,yBAAwB,UAAU,EAAE;;AAEpC;AACA;AACA,8BAA6B,mBAAmB,EAAE;AAClD,iCAAgC,eAAe;AAC/C;AACA,MAAK;;AAEL,mCAAkC,eAAe,EAAE;AACnD,gCAA+B,mBAAmB,EAAE;AACpD,mCAAkC,eAAe,EAAE;AACnD,gCAA+B,yBAAyB,EAAE;;AAE1D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,4BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA,MAAK;;AAEL,4CAA2C,iBAAiB;AAC5D;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,gBAAgB;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,oBAAmB,gBAAgB;AACnC;AACA;AACA;;AAEA;AACA,E","file":"./nestedreact.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"), require(\"nestedtypes\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\", \"nestedtypes\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"React\"] = factory(require(\"react\"), require(\"react-dom\"), require(\"nestedtypes\"));\n\telse\n\t\troot[\"React\"] = factory(root[\"React\"], root[\"ReactDOM\"], root[\"Nested\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0c7a0d22aa9df44a73a8\n **/","var React    = require( 'react' ),\r\n    ReactDOM = require( 'react-dom' ),\r\n    Nested   = require( 'nestedtypes' ),\r\n    $        = Nested.$;\r\n\r\n// extend React namespace\r\nvar NestedReact = module.exports = Object.create( React );\r\n\r\n// listenToProps, listenToState, model, attributes, Model\r\nNestedReact.createClass = require( './createClass' );\r\n\r\nvar ComponentView = require( './component-view' );\r\n\r\n// export hook to override base View class used...\r\nNestedReact.useView = function( View ){\r\n    NestedReact._BaseView = ComponentView.use( View );\r\n};\r\n\r\nNestedReact.useView( Nested.View );\r\n\r\n// React component for attaching views\r\nNestedReact.subview = require( './view-element' );\r\n\r\n// Extend react components to have backbone-style jquery accessors\r\nvar Component     = React.createClass( { render : function(){} } ),\r\n    BaseComponent = Object.getPrototypeOf( Component.prototype );\r\n\r\nObject.defineProperties( BaseComponent, {\r\n    el  : { get : function(){ return ReactDOM.findDOMNode( this ); } },\r\n    $el : { get : function(){ return $( this.el ); } },\r\n    $   : { value : function( sel ){ return this.$el.find( sel ); } }\r\n} );\r\n\r\nvar ValueLink = require( './value-link' );\r\nvar Link = Nested.Link = ValueLink.Link;\r\nNested.link = ValueLink.link;\r\n\r\nvar ModelProto = Nested.Model.prototype;\r\n\r\nModelProto.getLink = function( attr ){\r\n    var model = this;\r\n\r\n    return new Link( function( x ){\r\n        if( arguments.length ){\r\n            model[ attr ] = x;\r\n        }\r\n\r\n        return model[ attr ];\r\n    });\r\n};\r\n\r\nvar CollectionProto = Nested.Collection.prototype;\r\n\r\nCollectionProto.getLink = function( model ){\r\n    var collection = this;\r\n\r\n    return new Link( function( x ){\r\n        var prev = Boolean( collection.get( model ) );\r\n\r\n        if( arguments.length ){\r\n            var next = Boolean( x );\r\n            if( prev !== next ){\r\n                collection.toggle( model, x );\r\n                return next;\r\n            }\r\n        }\r\n\r\n        return prev;\r\n    });\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"nestedtypes\",\"commonjs2\":\"nestedtypes\",\"amd\":\"nestedtypes\",\"root\":\"Nested\"}\n ** module id = 3\n ** module chunks = 0\n **/","var React    = require( 'react' ),\r\n    Nested   = require( 'nestedtypes' );\r\n\r\nfunction forceUpdate(){ this.forceUpdate(); }\r\n\r\nvar Events = Object.assign( {\r\n    componentWillUnmount : function(){\r\n        this.stopListening();\r\n    }\r\n}, Nested.Events );\r\n\r\nvar ListenToProps = {\r\n    componentDidMount : function(){\r\n        var props    = this.props,\r\n            updateOn = this.listenToProps;\r\n\r\n        for( var prop in updateOn ){\r\n            var emitter = props[ prop ];\r\n            emitter && this.listenTo( emitter, updateOn[ prop ], forceUpdate );\r\n        }\r\n    }\r\n};\r\n\r\nvar ListenToPropsArray = {\r\n    componentDidMount : function(){\r\n        var props    = this.props,\r\n            updateOn = this.listenToProps;\r\n\r\n        for( var i = 0; i < updateOn.length; i++ ){\r\n            var emitter = props[ updateOn[ i ] ];\r\n            emitter && this.listenTo( emitter, emitter.triggerWhenChanged, forceUpdate );\r\n        }\r\n    }\r\n};\r\n\r\nvar ModelState = {\r\n    listenToState : 'change',\r\n    model         : null,\r\n\r\n    getInitialState : function(){\r\n        this.model = new this.Model();\r\n        // enable owner references in the model to access component props\r\n        this.model._owner = this;\r\n\r\n        return this.model;\r\n    },\r\n\r\n    // reference global store to fix model's store locator\r\n    getStore : function(){\r\n        this.model._defaultStore;\r\n    },\r\n\r\n    componentDidMount : function(){\r\n        var events = this.listenToState;\r\n        events && this.listenTo( this.model, events, forceUpdate );\r\n    },\r\n\r\n    componentWillUnmount : function(){\r\n        this.model._owner = null;\r\n        this.model.stopListening();\r\n    }\r\n};\r\n\r\nfunction createClass( spec ){\r\n    var mixins = spec.mixins || ( spec.mixins = [] );\r\n\r\n    var attributes = getModelAttributes( spec );\r\n    if( attributes ){\r\n        var BaseModel = spec.Model || Nested.Model;\r\n        spec.Model    = BaseModel.extend( { defaults : attributes } );\r\n    }\r\n\r\n    if( spec.Model ) mixins.push( ModelState );\r\n\r\n    var listenToProps = spec.listenToProps;\r\n    if( listenToProps ){\r\n        if( typeof listenToProps === 'string' ){\r\n            spec.listenToProps = listenToProps.split( ' ' );\r\n            mixins.unshift( ListenToPropsArray );\r\n        }\r\n        else{\r\n            mixins.unshift( ListenToProps );\r\n        }\r\n    }\r\n\r\n    mixins.push( Events );\r\n\r\n    var component  = React.createClass( spec );\r\n\r\n    // attach lazily evaluated backbone View class\r\n    var NestedReact = this;\r\n\r\n    Object.defineProperty( component, 'View', {\r\n        get : function(){\r\n            return this._View || ( this._View = NestedReact._BaseView.extend( { reactClass : component } ) );\r\n        }\r\n    });\r\n\r\n    return component;\r\n}\r\n\r\nfunction getModelAttributes( spec ){\r\n    var attributes = null;\r\n\r\n    for( var i = spec.mixins.length - 1; i >= 0; i-- ){\r\n        var mixin = spec.mixins[ i ];\r\n        if( mixin.attributes ){\r\n            attributes || ( attributes = {} );\r\n            Object.assign( attributes, mixin.attributes );\r\n        }\r\n    }\r\n\r\n    if( spec.attributes ){\r\n        if( attributes ){\r\n            Object.assign( attributes, spec.attributes );\r\n        }\r\n        else{\r\n            attributes = spec.attributes;\r\n        }\r\n    }\r\n\r\n    return attributes;\r\n}\r\n\r\nmodule.exports = createClass;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/createClass.js\n ** module id = 4\n ** module chunks = 0\n **/","var React    = require( 'react' ),\r\n    ReactDOM = require( 'react-dom' );\r\n\r\nmodule.exports.use = function( View ){\r\n    var dispose    = View.prototype.dispose || function(){},\r\n        setElement = View.prototype.setElement;\r\n\r\n    var ComponentView = View.extend( {\r\n        reactClass : null,\r\n        props      : {},\r\n        element    : null,\r\n\r\n        initialize : function( props ){\r\n            // memorise arguments to pass to React\r\n            this.options = props || {};\r\n            this.element = React.createElement( this.reactClass, this.options );\r\n        },\r\n\r\n        setElement : function(){\r\n            this.unmountComponent();\r\n            return setElement.apply( this, arguments );\r\n        },\r\n\r\n        // cached instance of react component...\r\n        component : null,\r\n        prevState : null,\r\n\r\n        render : function(){\r\n            var component = ReactDOM.render( this.element, this.el );\r\n            this.component || this.mountComponent( component );\r\n        },\r\n\r\n        mountComponent : function( component ){\r\n            this.component = component;\r\n\r\n            if( this.prevState ){\r\n                component.model.set( this.prevState );\r\n                this.prevState = null;\r\n            }\r\n\r\n            component.trigger && this.listenTo( component, 'all', function(){\r\n                this.trigger.apply( this, arguments );\r\n            });\r\n        },\r\n\r\n        unmountComponent : function(){\r\n            var component = this.component;\r\n\r\n            if( component ){\r\n                this.prevState = component.model && component.model.attributes;\r\n\r\n                if( component.trigger ){\r\n                    this.stopListening( component );\r\n                }\r\n\r\n                ReactDOM.unmountComponentAtNode( this.el );\r\n                this.component = null;\r\n            }\r\n        },\r\n\r\n        dispose : function(){\r\n            this.unmountComponent();\r\n            return dispose.apply( this, arguments );\r\n        }\r\n    } );\r\n\r\n    Object.defineProperty( ComponentView.prototype, 'model', {\r\n        get : function(){\r\n            this.component || this.render();\r\n            return this.component && this.component.model;\r\n        }\r\n    } );\r\n\r\n    return ComponentView;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/component-view.js\n ** module id = 5\n ** module chunks = 0\n **/","var React = require( 'react' );\r\n\r\nfunction shallowEqual(objA, objB) {\r\n    if (objA === objB) {\r\n        return true;\r\n    }\r\n\r\n    if (typeof objA !== 'object' || objA === null ||\r\n        typeof objB !== 'object' || objB === null) {\r\n        return false;\r\n    }\r\n\r\n    var keysA = Object.keys(objA);\r\n    var keysB = Object.keys(objB);\r\n\r\n    if (keysA.length !== keysB.length) {\r\n        return false;\r\n    }\r\n\r\n    // Test for A's keys different from B.\r\n    var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\r\n    for (var i = 0; i < keysA.length; i++) {\r\n        if (!bHasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nmodule.exports = React.createClass({\r\n    displayName : 'BackboneView',\r\n\r\n    propTypes : {\r\n        View : React.PropTypes.func.isRequired,\r\n        options : React.PropTypes.object\r\n    },\r\n\r\n    shouldComponentUpdate : function( next ){\r\n        var props = this.props;\r\n        return next.View !== props.View || !shallowEqual( next.options, props.options );\r\n    },\r\n\r\n    render : function(){\r\n        return React.DOM.div({\r\n            ref : 'subview',\r\n            className : this.props.className\r\n        });\r\n    },\r\n\r\n    componentDidMount : function(){\r\n        this._mountView();\r\n    },\r\n    componentDidUpdate : function(){\r\n        this._dispose();\r\n        this._mountView();\r\n    },\r\n    componentWillUnmount : function(){\r\n        this._dispose();\r\n    },\r\n\r\n    _mountView: function () {\r\n        var el = this.refs.subview,\r\n            p = this.props;\r\n\r\n        var view = this.view = p.options ? new p.View( p.options ) : new p.View();\r\n\r\n        el.appendChild( view.el );\r\n        view.render();\r\n    },\r\n\r\n    _dispose : function(){\r\n        var view = this.view;\r\n        if( view ){\r\n            view.stopListening();\r\n            if( view.dispose ) view.dispose();\r\n            this.refs.subview.innerHTML = \"\";\r\n            this.view = null;\r\n        }\r\n    }\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/view-element.js\n ** module id = 6\n ** module chunks = 0\n **/","var Nested = require( 'nestedtypes' );\r\n\r\nfunction clone( objOrArray ){\r\n    return objOrArray instanceof Array ? objOrArray.slice() : Object.assign( {}, objOrArray );\r\n}\r\n\r\nvar Link = exports.Link = Object.extend( {\r\n    constructor : function( val ){\r\n        this.val = val;\r\n    },\r\n\r\n    val : function( x ){ return x; },\r\n\r\n    properties : {\r\n        value : {\r\n            get : function(){ return this.val(); },\r\n            set : function( x ){ this.val( x ); }\r\n        }\r\n    },\r\n\r\n    requestChange : function( x ){ this.val( x ); },\r\n    get           : function(){ return this.val(); },\r\n    set           : function( x ){ this.val( x ); },\r\n    toggle        : function(){ this.val( !this.val() ); },\r\n\r\n    contains : function( element ){\r\n        var link = this;\r\n\r\n        return new Link( function( x ){\r\n            var arr  = link.val(),\r\n                prev = contains( arr, element );\r\n\r\n            if( arguments.length ){\r\n                var next = Boolean( x );\r\n                if( prev !== next ){\r\n                    link.val( x ? arr.concat( element ) : without( arr, element ) );\r\n                    return next;\r\n                }\r\n            }\r\n\r\n            return prev;\r\n        } );\r\n    },\r\n\r\n    // create boolean link for value equality\r\n    equals : function( asTrue ){\r\n        var link = this;\r\n\r\n        return new Link( function( x ){\r\n            if( arguments.length ) link.val( x ? asTrue : null );\r\n\r\n            return link.val() === asTrue;\r\n        } );\r\n    },\r\n\r\n    // link to enclosed object or array member\r\n    at : function( key ){\r\n        var link = this;\r\n\r\n        return new Link( function( x ){\r\n            var arr  = link.val(),\r\n                prev = arr[ key ];\r\n\r\n            if( arguments.length ){\r\n                if( prev !== x ){\r\n                    arr = clone( arr );\r\n                    arr[ key ] = x;\r\n                    link.val( arr );\r\n                    return x;\r\n                }\r\n            }\r\n\r\n            return prev;\r\n        } );\r\n    },\r\n\r\n    // iterates through enclosed object or array, generating set of links\r\n    map : function( fun ){\r\n        var i, y, res = [], arr = this.val();\r\n        if( arr ){\r\n            if( arr instanceof Array ){\r\n                for( i = 0; i < arr.length; i++ ){\r\n                    y = fun( this.at( i ), i );\r\n                    y === void 0 || ( res.push( y ) );\r\n                }\r\n            }\r\n            else{\r\n                for( i in arr ){\r\n                    if( arr.hasOwnProperty( i ) ){\r\n                        y = fun( this.at( i ), i );\r\n                        y === void 0 || ( res.push( y ) );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return res;\r\n    },\r\n\r\n    // create function which updates the link\r\n    update : function( transform ){\r\n        var val = this.val;\r\n        return function(){\r\n            val( transform( val() ) )\r\n        }\r\n    }\r\n});\r\n\r\nexports.link = function( reference ){\r\n    var getMaster = Nested.parseReference( reference );\r\n\r\n    function setLink( value ){\r\n        var link = getMaster.call( this );\r\n        link && link.val( value );\r\n    }\r\n\r\n    function getLink(){\r\n        var link = getMaster.call( this );\r\n        return link && link.val();\r\n    }\r\n\r\n    var LinkAttribute = Nested.attribute.Type.extend( {\r\n        createPropertySpec : function(){\r\n            return {\r\n                // call to optimized set function for single argument. Doesn't work for backbone types.\r\n                set : setLink,\r\n\r\n                // attach get hook to the getter function, if present\r\n                get : getLink\r\n            }\r\n        },\r\n\r\n        set : setLink\r\n    } );\r\n\r\n    var options       = Nested.attribute( { toJSON : false } );\r\n    options.Attribute = LinkAttribute;\r\n    return options;\r\n};\r\n\r\n// private array helpers\r\nfunction contains( arr, el ){\r\n    for( var i = 0; i < arr.length; i++ ){\r\n        if( arr[ i ] === el ) return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction without( arr, el ){\r\n    var res = [];\r\n\r\n    for( var i = 0; i < arr.length; i++ ){\r\n        var current = arr[ i ];\r\n        current === el || res.push( current );\r\n    }\r\n\r\n    return res;\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/value-link.js\n ** module id = 7\n ** module chunks = 0\n **/"],"sourceRoot":""}